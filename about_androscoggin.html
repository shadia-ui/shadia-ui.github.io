<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>about_androscoggin.utf8</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<!DOCTYPE html>
<head>
<!-- Favicon for various operating systems -->
<link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
<!-- <link rel="manifest" href="./favicon/site.webmanifest"> -->
<link rel="mask-icon" href="./favicon/safari-pinned-tab.svg" color="#603cba">
<link rel="shortcut icon" href="./favicon/favicon.ico">
<meta name="msapplication-TileColor" content="#603cba">
<meta name="msapplication-config" content="./favicon/browserconfig.xml">
<meta name="theme-color" content="#382121">
</head>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">shadia</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="gettingstarted.html">Getting started</a>
</li>
<li>
  <a href="models.html">Models</a>
</li>
<li>
  <a href="examples.html">Examples</a>
</li>
<li>
  <a href="version_history.html">Version history</a>
</li>
<li>
  <a href="contact.html">Contact</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/danStich/shadia">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<p><br></p>
<h2 id="multi">
<b>Overview of <code>androscogginRiverModel()</code></b>
</h2>
<p>The purpose of this page is to provide a general overview of the Androscoggin River dam passage performance standard model for American shad and blueback herring. If you are looking for examples, please check <a href="examples.html">the examples page</a>.</p>
<h3 id="multi">
<b>Habitat definitions</b>
</h3>
<p>The Androscoggin River Model includes American shad and blueback herring habitat from Brunswick Dam at head of tide to Bisco Falls in the Little Androscoggin and Sabattus Pond in the Sabattus River.</p>
<p>Projects that can be assessed in the Androscoggin and Little Androscoggin Rivers include Brunswick, Pejepscot, Worumbo, Lower Baker, Upper Baker, Littlefield (breached), Hackett’s Mills, Mechanics Falls (Marcal), Welchville, and South Paris. Farwell and Fortier dams can each be assessed within the Sabattus River. The probability that fish use the mainstem or the Sabattus River can be specified by the user, and default value is based on proportion of habitat in each of the migration routes.</p>
<!-- <img id="multi" src="images/kennebec.png" alt="Kennebec River model schematic showing dams, migration routes, and production units" width=500em> -->
<p>The river is split into two migratory routes at the confluence of the Androscoggin River and the Sabattus River. A total of 12 production units (PUs) are delineated based on dam locations in each route. The mainstem route includes PUs 1A, through 10A. The Sabattus River route includes PUs 1A - 3A, and 4B-5B. Abundances and carrying capacities are evaluated collectively in any shared PUs after the upstream migration model runs each year.</p>
<p>Carrying capacity in the Androscoggin River is based on number of adult spawners per unit surface area of habitat, an approach that is widely used for New England Rivers, but that is also highly uncertain. As in other applications, we assume a carrying capacity of about 100 fish per acre (or 200 fish per ha) for American shad, and 484 fish per acre for blueback herring (based on counts in the Sebasticook River, ME, USA). Because of the uncertainty associated with these values here and elsewhere, this value is drawn from a distribution of values so sensitivity to assumptions can be assessed by users.</p>
<h3 id="multi">
<b>Environmental data</b>
</h3>
<p>Historical temperature data are compiled from various locations in the Androscoggin River watershed 2009-2018 by the Maine Department of Marine Resources, Pennsylvania State University and others who provided public data through the <a href="http://db.ecosheds.org/">SHEDS Stream Temperature Database</a>. Briefly, these sources include a total of 28 monitoring sites throughout the watershed. These data are used to simulate new daily temperatures using the <code>simTemperature()</code> function in <code>shadia</code>, for example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(shadia)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># Simulate new temperatures for a single year</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>  newT &lt;-<span class="st"> </span><span class="kw">simTemperature</span>(<span class="kw">setUpTemperatureData</span>(<span class="dt">river =</span> <span class="st">&quot;androscoggin&quot;</span>))</span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co"># Plot the result</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="kw">ggplot</span>(newT, <span class="kw">aes</span>(<span class="dt">x =</span> day, <span class="dt">y =</span> val)) <span class="op">+</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="st">    </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="st">    </span><span class="kw">ylab</span>(<span class="kw">expression</span>(<span class="kw">paste</span>(<span class="st">&#39;Temperature (&#39;</span>, degree, <span class="st">&#39;C)&#39;</span>))) <span class="op">+</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="st">    </span><span class="kw">xlab</span>(<span class="st">&quot;Day of year&quot;</span>)</span></code></pre></div>
<p><img src="about_androscoggin_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>See <code>?shadia::tempData_androscoggin</code> in R for more information about the historical temperature data set for this system. Information about simulating new temperatures from existing data can be accessed by typing <code>?simTemperature</code> and running in R.</p>
<h3 id="multi">
<b>Biological data</b>
</h3>
<h4 id="multi">
<em>American shad</em>
</h4>
<p>The majority of biological data and behavioral processes in <code>shadia</code> are conserved between systems to standardize the approach. Others are seeded initially and are derived from model observations as emergent patterns thereafter. However, each river system requires some river-specific biological data including maximum age, starting population sizes, and membership in life-history based ‘<code>region</code>s’ used to parameterize size at age and marine survival rates from coastal stock assessments.</p>
<p>The maximum age used for simulation in the Androscoggin River is age 13 based on observed fish ages in other New England Rivers. Growth and marine survival inputs are parameterized using estimates for “Northern iteroparous” populations from Atlantic States Marine Fisheries Commission (ASMFC) 2020 American shad stock assessment. Growth and mortality are both projected from parameters of a von Bertalanffy growth function (VBGF) that includes effects of sea surface temperature on parameters <em>L</em><sub><span class="math inline">\(\infty\)</span></sub> and <em>K</em>. Marine survival and growth parameters are projected under RCP8.5 for this system using SST from the Northeast Continental Shelf Large Marine Ecosystem (Gilligan et al. In Press).</p>
<h2 id="multi">
<em>Blueback herring</em>
</h2>
<p>Some species-specific data were used in parameterizing blueback herring models, although the majority of movement dynamics are the same as for American shad provided that 1) previously implemented dynamics were based on body lengths per second, and 2) similar data for blueback herring are currently lacking.</p>
<p>Species-specific life-history inputs from blueback herring from the Kennebec River, co-located within the Merrymeeting Bay watershed, are used for this model. These inputs include maximum age, cumulative probability of recruitment to first spawn, probability of repeat spawning, length-at-age and von Bertalanffy growth parameter estimates, and natural mortality estimates.</p>
<p><b>Maximum age</b> reported by Maine Department of Marine Resources (MEDMR, unpublished data) was 7 years.</p>
<p><b>Cumulative probability of recruitment to first spawn</b> from the same data set were 0, 0.01, 0.48, 0.90, 1, 1, 1 for ages 1 - 7.</p>
<p><b>Probabilty of being a repeat spawner</b> at age was parameterized for ages 1-7 as: 0, 0, 0.004, 0.28, 0.83, 1, 1.</p>
<p><b>Parameters of the von Bertalanffy growth function (VBGF)</b> were estimated from <code>age</code> and <code>length</code> data provided by MEDMR. Three VBGFs were fit using Bayesian hierarchical models in Stan software using Rstan. These included sex-aggregate, male-only, and female-only models. The full posteriors for log-scale parameters <code>Linf</code>, <code>K</code>, and <code>t0</code> are stored in <code>vbgf_kennebec_bbh_agg</code>, <code>vbgf_kennebec_bbh_m</code>, and <code>vbgf_kennebec_bbh_f</code>. A description of the estimates can be accessed in R by typing <code>?vbgf_kennebec_bbh_...</code> in the console and running, where <code>...</code> should be replaced by <code>agg</code>, <code>m</code>, or <code>f</code>. Sex-specific lengths of simulated fish are drawn for each fish in each year by sampling one set of correlated VBGF parameters from the appropriate posterior to incorporate these correlations and avoid nonsensical pairing of simulated VBGF parameters.</p>
<p><b>Natural mortality (<em>M</em>)</b> is estimated on a per-simulation basis (not per-year) from the sex-aggregated VBGF parameters using the modification of <a href = "https://academic.oup.com/icesjms/article-abstract/39/2/175/647984">Pauly (1980)</a> recommended by <a href = "https://academic.oup.com/icesjms/article/72/1/82/2804320">Then et al. (2015)</a> when virgin maximum age of a stock is unknown.</p>
<p><br></p>

<!DOCTYPE html>

<br>

<hr>

<p style="color:gray; text-align:center">This work is licensed under a <a href= "https://github.com/shadia-ui/shadia-ui.github.io/blob/master/LICENSE"> Creative Commons 4.0 International License</a>.</p>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
