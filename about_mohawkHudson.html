<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>about_mohawkHudson.utf8</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<!DOCTYPE html>
<head>
<!-- Favicon for various operating systems -->
<link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
<!-- <link rel="manifest" href="./favicon/site.webmanifest"> -->
<link rel="mask-icon" href="./favicon/safari-pinned-tab.svg" color="#603cba">
<link rel="shortcut icon" href="./favicon/favicon.ico">
<meta name="msapplication-TileColor" content="#603cba">
<meta name="msapplication-config" content="./favicon/browserconfig.xml">
<meta name="theme-color" content="#382121">
</head>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">shadia</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="gettingstarted.html">Getting started</a>
</li>
<li>
  <a href="models.html">Models</a>
</li>
<li>
  <a href="examples.html">Examples</a>
</li>
<li>
  <a href="version_history.html">Version history</a>
</li>
<li>
  <a href="contact.html">Contact</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/danStich/shadia">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<p><br></p>
<h2 id="multi">
<b>Overview of <code>mohawkHudsonRiverModel()</code></b>
</h2>
<p>The purpose of this page is to provide a general overview of the Mohawk-Hudson River dam passage performance standard model for American shad and blueback herring. If you are looking for examples, please check <a href="examples.html">here</a>.</p>
<h3 id="multi">
<b>Habitat definitions</b>
</h3>
<p>The Mohawk-Hudson River Model includes American shad and blueback herring habitat from the Hudson River estuary upstream to Rome, NY in the Mohawk River and upstream to Hudson Falls, NY in the mainstem Hudson River.</p>
<p>Dams in this model are a mix of hydropower facilities and navigational canals. These include all mainstem dams in the Hudson River, and all canal dams in the Mohawk River and upper Hudson River. Upstream passage and downstream mortality can be assessed at each of these, collectively or individually. The probability that fish use the mainstem or the Mohawk River is included as a management decision, but may be input stochastically by the user.</p>
<p>Mohawk-Hudson River model schematic showing dams, migration routes, and production units:</p>
<p><img id="multi" src="images/hudson.png" alt="Mohawk-Hudson River model schematic showing dams, migration routes, and production units" width=500em></p>
<p>The river is split into two migratory routes at the confluence of the Hudson River and its largest tributary, the Mohawk River. A total of 28 production units (PUs) are delineated based on locations of 26 dams throughout the watershed. The upper Hudson River route includes PUs 1A, 2A, …, 8A. The Mohawk River route includes PUs 1A, 2B, 3B, …, 21B. Abundances and carrying capacities are evaluated collectively in any shared PUs after the upstream migration model runs each year. The amount of habitat in each production unit is parameterized as surface area for both American shad and blueback herring.</p>
<p>Carrying capacity in the Hudson River is based on number of adult spawners per unit surface area of habitat, an approach that is widely used for New England Rivers, but that is also highly uncertain for both species. As in other applications, we assume a carrying capacity of about 100 fish per acre (or 250 fish per ha). Because of the uncertainty associated with these values here and elsewhere, this value is actually drawn from a distribution of values so sensitivity to assumptions can be assessed.</p>
<h3 id="multi">
<b>Environmental data</b>
</h3>
<p>Historical temperature data are compiled from the US Geological Survey gage at Albany, NY (Gage ID <a href="https://waterdata.usgs.gov/ny/nwis/uv?site_no=01359139">01359139</a>). Briefly, these sources include a total of 8 monitoring sites throughout the watershed. These data are used to simulate new daily temperatures using the <code>simTemperature()</code> function in <code>shadia</code>, for example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(shadia)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># Simulate new temperatures for a single year</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>  newT &lt;-<span class="st"> </span><span class="kw">simTemperature</span>(<span class="kw">setUpTemperatureData</span>(<span class="dt">river =</span> <span class="st">&quot;hudson&quot;</span>))</span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co"># Plot the result</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="kw">ggplot</span>(newT, <span class="kw">aes</span>(<span class="dt">x =</span> day, <span class="dt">y =</span> val)) <span class="op">+</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="st">    </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="st">    </span><span class="kw">ylab</span>(<span class="kw">expression</span>(<span class="kw">paste</span>(<span class="st">&#39;Temperature (&#39;</span>, degree, <span class="st">&#39;C)&#39;</span>))) <span class="op">+</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="st">    </span><span class="kw">xlab</span>(<span class="st">&quot;Day of year&quot;</span>)</span></code></pre></div>
<p><img src="about_mohawkHudson_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>See <code>?shadia::tempData_hudson</code> in R for more information about the historical temperature data set for this system. Information about simulating new temperatures from existing data can be accessed by typing <code>?simTemperature</code> and running in R.</p>
<h3 id="multi">
<b>Biological data</b>
</h3>
<p>The majority of biological data and behavioral processes in <code>shadia</code> are conserved between systems to standardize the approach. These are described in detail in <a href="https://danstich.github.io/stich/pubs/Stich_etal_CJFAS_shadia.pdf">Stich et al. (2019)</a>, in the source files for the R package, and in the help files for each function included. Others processes/parameters are seeded intially and are derived from model observations as emergent patterns thereafter (e.g. percent repeat spawners by age). However, each river system requires some river-specific biological data including maximum age, starting population sizes, and membership in life-history based ‘<code>region</code>s’ used to parameterize size at age and marine survival rates from coastal stock assessments.</p>
<h4 id="multi">
<em>American shad</em>
</h4>
<p>The maximum age used for simulation in the Mohawk and Hudson rivers is age 9 based on observed fish ages in other New England Rivers. Growth and natural mortality inputs are parameterized using estimates for “Southern iteroparous” populations from Atlantic States Marine Fisheries Commission (ASMFC) 2020 American shad stock assessment and Gilligan (2020). Growth and mortality are both projected from parameters of a von Bertalanffy growth function (VBGF) that includes effects of standardized sea surface temperature on parameters <em>L</em><sub><span class="math inline">\(\infty\)</span></sub> and <em>K</em> under ‘current’ SST projected using RCP 8.5 (as of 2021).</p>
<h4 id="multi">
<em>Blueback herring</em>
</h4>
<p>Some species-specific data were used in parameterizing blueback herring models, although the majority of movement dynamics are the same as for American shad provided that 1) previously implemented dynamics were based on body lengths per second, and 2) similar data for blueback herring are currently lacking.</p>
<p>Species-specific life-history inputs from blueback herring in the Hudson River include maximum age, cumulative probability of recruitment to first spawn, probability of repeat spawning, length-at-age and von Bertalanfy growth parameter estimates, and natural mortality estimates. <strong>Maximum age</strong> reported by New York State Department of Environmental Conservation (NYSDEC, unpublished data) is 9 years. <strong>Cumulative probability of recruitment to first spawn</strong> from the same data were estimated to be 0.000, 0.009, 0.480, and 0.904 for ages 1-4, and 1.00 for ages 5-9. <strong>Initial probability of repeat spawning</strong> at age was parameterized as 0.000, 0.000, 0.004, 0.208, 0.674 for ages 1-5, and was 1.000 for ages 6-9.</p>
<p><b>Parameters of the von Bertalanffy growth function (VBGF)</b> were estimated from <code>age</code> and <code>length</code> data provided by NYSDEC. Three VBGFs were fit using Bayesian hierarchical models in Stan software using Rstan. These included sex-aggregate, male-only, and female-only models. The full posteriors for log-scale parameters <code>Linf</code>, <code>K</code>, and <code>t0</code> are stored in <code>vbgf_hudson_agg</code>, <code>vbgf_hudson_m</code>, and <code>vbgf_hudson_f</code>. A description of the estimates can be accessed in R by typing <code>?vbgf_hudson_...</code> in the console and running, where <code>...</code> should be replaced by <code>agg</code>, <code>m</code>, or <code>f</code>. Sex-specific lengths of simulated fish are drawn for each fish in each year by sampling one set of correlated VBGF parameters from the appropriate posterior to incorporate these correlations and avoid nonsensical pairing of simulated VBGF parameters.</p>
<p><b>Natural mortality (<em>M</em>)</b> is estimated on a per-simulation basis (not per-year) from the sex-aggregated VBGF parameters using the modification of <a href = "https://academic.oup.com/icesjms/article-abstract/39/2/175/647984">Pauly (1980)</a> recommended by <a href = "https://academic.oup.com/icesjms/article/72/1/82/2804320">Then et al. (2015)</a> when virgin maximum age of a stock is unknown.</p>
<p><br></p>

<!DOCTYPE html>

<br>

<hr>

<p style="color:gray; text-align:center">This work is licensed under a <a href= "https://github.com/shadia-ui/shadia-ui.github.io/blob/master/LICENSE"> Creative Commons 4.0 International License</a>.</p>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
